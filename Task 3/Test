CREATE DATABASE Task3;
SHOW DATABASES;
+--------------------+
| Database           |
+--------------------+
| Task3              |
| information_schema |
| mysql              |
| performance_schema |
| sys                |
+--------------------+

---Un-Normalized / 1nf
 CREATE TABLE student (
    -> StudentID INT,
    -> StudentName VARCHAR (60),
    -> Email VARCHAR (60),
    -> ClubName VARCHAR (60),
    -> ClubRoom VARCHAR (60),
    -> ClubMentor VARCHAR (60),
    -> JoinDate DATE
    -> );

DESCRIBE student;
+-------------+-------------+------+-----+---------+-------+
| Field       | Type        | Null | Key | Default | Extra |
+-------------+-------------+------+-----+---------+-------+
| StudentID   | int         | YES  |     | NULL    |       |
| StudentName | varchar(60) | YES  |     | NULL    |       |
| Email       | varchar(60) | YES  |     | NULL    |       |
| ClubName    | varchar(60) | YES  |     | NULL    |       |
| ClubRoom    | varchar(60) | YES  |     | NULL    |       |
| ClubMentor  | varchar(60) | YES  |     | NULL    |       |
| JoinDate    | date        | YES  |     | NULL    |       |
+-------------+-------------+------+-----+---------+-------+

INSERT INTO student 
(StudentID, StudentName, Email, ClubName, ClubRoom, ClubMentor, JoinDate)
VALUES 
(1, 'Asha', 'asha@email.com', 'Music Club', 'R101', 'Mr. Raman', '2024-01-10'),
(2, 'Bikash', 'bikash@email.com', 'Sports Club', 'R202', 'Ms. Sita', '2024-01-12'),
(1, 'Asha', 'asha@email.com', 'Sports Club', 'R202', 'Ms. Sita', '2024-01-15'),
(3, 'Nisha', 'nisha@email.com', 'Music Club', 'R101', 'Mr. Raman', '2024-01-20'),
(4, 'Rohan', 'rohan@email.com', 'Drama Club', 'R303', 'Mr. Kiran', '2024-01-18'),
(5, 'Suman', 'suman@email.com', 'Music Club', 'R101', 'Mr. Raman', '2024-01-22'),
(2, 'Bikash', 'bikash@email.com', 'Drama Club', 'R303', 'Mr. Kiran', '2024-01-25'),
(6, 'Pooja', 'pooja@email.com', 'Sports Club', 'R202', 'Ms. Sita', '2024-01-27'),
(3, 'Nisha', 'nisha@email.com', 'Coding Club', 'Lab1', 'Mr. Anil', '2024-01-28'),
(7, 'Aman', 'aman@email.com', 'Coding Club', 'Lab1', 'Mr. Anil', '2024-01-30');

SELECT *FROM student;
+-----------+-------------+------------------+-------------+----------+------------+------------+
| StudentID | StudentName | Email            | ClubName    | ClubRoom | ClubMentor | JoinDate   |
+-----------+-------------+------------------+-------------+----------+------------+------------+
|         1 | Asha        | asha@email.com   | Music Club  | R101     | Mr. Raman  | 2024-01-10 |
|         2 | Bikash      | bikash@email.com | Sports Club | R202     | Ms. Sita   | 2024-01-12 |
|         1 | Asha        | asha@email.com   | Sports Club | R202     | Ms. Sita   | 2024-01-15 |
|         3 | Nisha       | nisha@email.com  | Music Club  | R101     | Mr. Raman  | 2024-01-20 |
|         4 | Rohan       | rohan@email.com  | Drama Club  | R303     | Mr. Kiran  | 2024-01-18 |
|         5 | Suman       | suman@email.com  | Music Club  | R101     | Mr. Raman  | 2024-01-22 |
|         2 | Bikash      | bikash@email.com | Drama Club  | R303     | Mr. Kiran  | 2024-01-25 |
|         6 | Pooja       | pooja@email.com  | Sports Club | R202     | Ms. Sita   | 2024-01-27 |
|         3 | Nisha       | nisha@email.com  | Coding Club | Lab1     | Mr. Anil   | 2024-01-28 |
|         7 | Aman        | aman@email.com   | Coding Club | Lab1     | Mr. Anil   | 2024-01-30 |
+-----------+-------------+------------------+-------------+----------+------------+------------+

--2NF
CREATE TABLE Student (
    StudentID INT PRIMARY KEY,
    StudentName VARCHAR(100),
    Email VARCHAR(100) UNIQUE
);

 DESCRIBE Student;
+-------------+--------------+------+-----+---------+-------+
| Field       | Type         | Null | Key | Default | Extra |
+-------------+--------------+------+-----+---------+-------+
| StudentID   | int          | NO   | PRI | NULL    |       |
| StudentName | varchar(100) | YES  |     | NULL    |       |
| Email       | varchar(100) | YES  | UNI | NULL    |       |
+-------------+--------------+------+-----+---------+-------+

CREATE TABLE Club (
ClubID INT PRIMARY KEY,
ClubName VARCHAR(100),
ClubRoom VARCHAR(50),
ClubMentor VARCHAR(100)
);

DESCRIBE Club;
+------------+--------------+------+-----+---------+-------+
| Field      | Type         | Null | Key | Default | Extra |
+------------+--------------+------+-----+---------+-------+
| ClubID     | int          | NO   | PRI | NULL    |       |
| ClubName   | varchar(100) | YES  |     | NULL    |       |
| ClubRoom   | varchar(50)  | YES  |     | NULL    |       |
| ClubMentor | varchar(100) | YES  |     | NULL    |       |
+------------+--------------+------+-----+---------+-------+

CREATE TABLE Membership (
MembershipID INT PRIMARY KEY,
StudentID INT,
ClubID INT,
JoinDate DATE,
FOREIGN KEY (StudentID) REFERENCES Student(StudentID),
FOREIGN KEY (ClubID) REFERENCES Club(ClubID)
);

DESCRIBE Membership;
+--------------+------+------+-----+---------+-------+
| Field        | Type | Null | Key | Default | Extra |
+--------------+------+------+-----+---------+-------+
| MembershipID | int  | NO   | PRI | NULL    |       |
| StudentID    | int  | YES  | MUL | NULL    |       |
| ClubID       | int  | YES  | MUL | NULL    |       |
| JoinDate     | date | YES  |     | NULL    |       |
+--------------+------+------+-----+---------+-------+

INSERT INTO Student
VALUES (1, 'Asha', 'asha@email.com'),
(2, 'Bikash', 'bikash@email.com'),
(3, 'Nisha', 'nisha@email.com'),
(4, 'Rohan', 'rohan@email.com'),
(5, 'Suman', 'suman@email.com'),
(6, 'Pooja', 'pooja@email.com'),
(7, 'Aman', 'aman@email.com');

SELECT *FROM Student;
+-----------+-------------+------------------+
| StudentID | StudentName | Email            |
+-----------+-------------+------------------+
|         1 | Asha        | asha@email.com   |
|         2 | Bikash      | bikash@email.com |
|         3 | Nisha       | nisha@email.com  |
|         4 | Rohan       | rohan@email.com  |
|         5 | Suman       | suman@email.com  |
|         6 | Pooja       | pooja@email.com  |
|         7 | Aman        | aman@email.com   |
+-----------+-------------+------------------+

INSERT INTO Club
VALUES (1, 'Music Club', 'R101', 'Mr. Raman'),
(2, 'Sports Club', 'R202', 'Ms. Sita'),
(3, 'Drama Club', 'R303', 'Mr. Kiran'),
(4, 'Coding Club', 'Lab1', 'Mr. Anil');

 SELECT *FROM Club;
+--------+-------------+----------+------------+
| ClubID | ClubName    | ClubRoom | ClubMentor |
+--------+-------------+----------+------------+
|      1 | Music Club  | R101     | Mr. Raman  |
|      2 | Sports Club | R202     | Ms. Sita   |
|      3 | Drama Club  | R303     | Mr. Kiran  |
|      4 | Coding Club | Lab1     | Mr. Anil   |
+--------+-------------+----------+------------+

INSERT INTO Membership
VALUES (101, 1, 1, '2024-01-10'),
(102, 2, 2, '2024-01-12'),
(103, 1, 2, '2024-01-15'),
(104, 3, 1, '2024-01-20'),
(105, 4, 3, '2024-01-18'),
(106, 5, 1, '2024-01-22'),
(107, 2, 3, '2024-01-25'),
(108, 6, 2, '2024-01-27'),
(109, 3, 4, '2024-01-28'),
(110, 7, 4, '2024-01-30');

SELECT *FROM Membership;
+--------------+-----------+--------+------------+
| MembershipID | StudentID | ClubID | JoinDate   |
+--------------+-----------+--------+------------+
|          101 |         1 |      1 | 2024-01-10 |
|          102 |         2 |      2 | 2024-01-12 |
|          103 |         1 |      2 | 2024-01-15 |
|          104 |         3 |      1 | 2024-01-20 |
|          105 |         4 |      3 | 2024-01-18 |
|          106 |         5 |      1 | 2024-01-22 |
|          107 |         2 |      3 | 2024-01-25 |
|          108 |         6 |      2 | 2024-01-27 |
|          109 |         3 |      4 | 2024-01-28 |
|          110 |         7 |      4 | 2024-01-30 |
+--------------+-----------+--------+------------+

--Verification Query
SELECT 
s.StudentID,
s.StudentName,
s.Email,
c.ClubName,
c.ClubRoom,
c.ClubMentor,
m.JoinDate
FROM Membership m
JOIN Student s ON m.StudentID = s.StudentID
JOIN Club c ON m.ClubID = c.ClubID;

+-----------+-------------+------------------+-------------+----------+------------+------------+
| StudentID | StudentName | Email            | ClubName    | ClubRoom | ClubMentor | JoinDate   |
+-----------+-------------+------------------+-------------+----------+------------+------------+
|         1 | Asha        | asha@email.com   | Music Club  | R101     | Mr. Raman  | 2024-01-10 |
|         3 | Nisha       | nisha@email.com  | Music Club  | R101     | Mr. Raman  | 2024-01-20 |
|         5 | Suman       | suman@email.com  | Music Club  | R101     | Mr. Raman  | 2024-01-22 |
|         2 | Bikash      | bikash@email.com | Sports Club | R202     | Ms. Sita   | 2024-01-12 |
|         1 | Asha        | asha@email.com   | Sports Club | R202     | Ms. Sita   | 2024-01-15 |
|         6 | Pooja       | pooja@email.com  | Sports Club | R202     | Ms. Sita   | 2024-01-27 |
|         4 | Rohan       | rohan@email.com  | Drama Club  | R303     | Mr. Kiran  | 2024-01-18 |
|         2 | Bikash      | bikash@email.com | Drama Club  | R303     | Mr. Kiran  | 2024-01-25 |
|         3 | Nisha       | nisha@email.com  | Coding Club | Lab1     | Mr. Anil   | 2024-01-28 |
|         7 | Aman        | aman@email.com   | Coding Club | Lab1     | Mr. Anil   | 2024-01-30 |
+-----------+-------------+------------------+-------------+----------+------------+------------+
